http:
  routers:
    traefik-router:
      rule: "Host(`hilfling-traefik.norwayeast.azurecontainer.io`)"
      service: api@internal
      entryPoints:
        - web
      middlewares:
        - traefik-auth

  middlewares:
    traefik-auth:
      basicAuth:
        users:
          - "user:$$2y$$05$$6m8MvyzgJ4Kl7/3rL4X6VurX1huMas8a7oPB3xRfBjFbGCR8MUi7W"

  services:
    backend-service:
      loadBalancer:
        servers:
          - url: "http://hilfling-backend1.norwayeast.azurecontainer.io:8000"
          - url: "http://hilfling-backend2.norwayeast.azurecontainer.io:8000"
          - url: "http://hilfling-backend3.norwayeast.azurecontainer.io:8000"
          - url: "http://hilfling-backend4.norwayeast.azurecontainer.io:8000"
